<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js" integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ==" crossorigin="anonymous"></script>
    <title>Prueba front Lexart Labs - Mostrar productos</title>
</head>
<body>
    <h3>ABM Stock</h3>
    <table>
		<thead>
			<tr>
				<th>_id</th>
                <th>Quantity</th>
                <th>Product_Name</th>
                <th>Price</th>
			</tr>
		</thead>
		<tbody>
			<!-- Incrusta el tr dinÃ¡mico -->
        </tbody>
    </table>

    <script type="text/javascript">
    const API = 'https://crudcrud.com/api/e044d683d09846ae8e6e175ff94af708/stock'
    
    let tbody = document.querySelector('tbody');
        console.log(API)

		axios.get(API).then( function (response){
			// t= 1 + i
			let tr = ``
			let stock = response.data;
            console.log(response.data)
			for (let i = stock.length - 1; i >= 0; i--) {
				let producto = stock[i];

				// Template
				tr += `
					<tr>
						<td>${producto._id}</td>
                        <td>${producto.cantidad}</td>
                        <td>${producto.nombre}</td>
                        <td>${producto.precio}</td>
					</tr>
				`
			}

			tbody.innerHTML = tr;

			console.log("stock: ", stock)

		}).catch( function (error){
			console.log("error: ", error)
		})
    
    </script>
    
</body>
</html>